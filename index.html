<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GPA Tracker</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; background: #f0f2f5; }
  h1 { text-align: center; }
  .container { max-width: 800px; margin: 0 auto; background: #fff; padding: 20px; border-radius: 10px; }
  table { width: 100%; border-collapse: collapse; margin-top: 10px; }
  th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
  th { background-color: #f7f7f7; }
  input[type="text"], input[type="number"] { width: 90%; padding: 5px; }
  button { margin: 5px; padding: 6px 12px; cursor: pointer; border-radius: 5px; border: none; background-color: #007bff; color: white; }
  button:hover { background-color: #0056b3; }
  .gpa { font-size: 1.2em; margin-top: 15px; text-align: center; }
</style>
</head>
<body>

<h1>GPA Tracker</h1>
<div class="container">
  <button onclick="addCourse()">Add Course</button>
  <button onclick="saveCourses()">Save Courses</button>
  <table id="coursesTable">
    <thead>
      <tr>
        <th>Course</th>
        <th>Grade (A-F)</th>
        <th>Credits</th>
        <th>Remove</th>
      </tr>
    </thead>
    <tbody>
    </tbody>
  </table>
  <div class="gpa">GPA: <span id="gpaValue">0.000</span></div>
</div>

<script>
const gradePoints = {
  'A+':4.0,'A':4.0,'A-':3.7,
  'B+':3.3,'B':3.0,'B-':2.7,
  'C+':2.3,'C':2.0,'C-':1.7,
  'D+':1.3,'D':1.0,'D-':0.7,
  'F':0.0
};

function calculateGPA() {
  const tbody = document.querySelector("#coursesTable tbody");
  let totalPoints = 0, totalCredits = 0;
  Array.from(tbody.rows).forEach(row => {
    const grade = row.cells[1].querySelector('input').value.toUpperCase();
    const credits = parseFloat(row.cells[2].querySelector('input').value) || 0;
    const points = gradePoints[grade] ?? 0;
    totalPoints += points * credits;
    totalCredits += credits;
  });
  const gpa = totalCredits ? (totalPoints / totalCredits).toFixed(3) : '0.000';
  document.getElementById('gpaValue').innerText = gpa;
}

function addCourse(course = {name:'', grade:'A', credits:1}) {
  const tbody = document.querySelector("#coursesTable tbody");
  const row = tbody.insertRow();
  row.insertCell().innerHTML = `<input type="text" value="${course.name}" oninput="calculateGPA()">`;
  row.insertCell().innerHTML = `<input type="text" value="${course.grade}" oninput="calculateGPA()">`;
  row.insertCell().innerHTML = `<input type="number" value="${course.credits}" min="0" step="0.1" oninput="calculateGPA()">`;
  row.insertCell().innerHTML = `<button onclick="removeCourse(this)">X</button>`;
  calculateGPA();
}

function removeCourse(btn) {
  btn.closest('tr').remove();
  calculateGPA();
}

function saveCourses() {
  const tbody = document.querySelector("#coursesTable tbody");
  const courses = Array.from(tbody.rows).map(row => ({
    name: row.cells[0].querySelector('input').value,
    grade: row.cells[1].querySelector('input').value,
    credits: parseFloat(row.cells[2].querySelector('input').value) || 0
  }));
  localStorage.setItem('savedCourses', JSON.stringify(courses));
  alert('Courses saved!');
}

function loadCourses() {
  const saved = JSON.parse(localStorage.getItem('savedCourses') || '[]');
  saved.forEach(course => addCourse(course));
}

// Initialize
loadCourses();
</script>

</body>
</html>
